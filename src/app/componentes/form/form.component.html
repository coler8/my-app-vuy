<div class="mask rgba-indigo-strong ">
  <div class="message is-danger" style="font-weight: bold;" *ngIf="showMessage">
    <div class="message-body is-size-7 " [innerHTML]="message">
    </div>
  </div>
  <div class="container">
    <div class="d-flex justify-content-center">

      <div class="card animated bounceIn">

        <div class="card-header" style="background-color: #d9edf7;">
          <h2 style="margin: auto;">Subir producto a puja</h2>
        </div>

        <div class="card-body" >
          <div class="col-md-6 offset-md-3">
            <div class="form-group">
              <label for="name">Nombre del producto</label>
              <input class="input" type="text" id="name" #name="ngModel"  placeholder="Escriba nombre producto..." [(ngModel)]="producto.name"  required >
              <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
                <div *ngIf="name.errors.required">Nombre del producto requerido.</div>
              </div>
            </div>

            <div class="form-group">
              <label for="photo">Imagen del producto</label>
              <input class="input" type="text" id="photo" #photo="ngModel"  placeholder="Escriba URL del producto..." pattern="https?://.+" [(ngModel)]="producto.photo" required>
              <div *ngIf="photo.invalid && (photo.dirty || photo.touched)" class="alert alert-danger">
                <div *ngIf="photo.errors.required">Imagen del producto requerida.</div>
                <div *ngIf="photo.errors.pattern">Introduce una URL correcta.</div>
              </div>
            </div>

            <div class="form-group">
              <label for="category">Categoría:</label>
              <select name="category" id="category" class="form-control" #category required>
                <option>Móvil</option>
                <option>Videoconsola</option>
                <option>Ordenador</option>
              </select>
            </div>

            <div class="form-group">
              <label for="base_val">Precio base:</label>
              <input class="input"  type="text" id="base_val" name="base_val" #base_val="ngModel"  placeholder="Escriba precio base..." pattern="^\d+\.?\d*$" [(ngModel)]="producto.base_val" >
              <div *ngIf="base_val.invalid && base_val.touched" class="alert alert-danger">
                <div *ngIf="base_val.errors.required">Precio base requerida.</div>
                <div *ngIf="base_val.errors.pattern">Introduce un número positivo.</div>
              </div>
            </div>

            <div class="form-group">
              <label for="increment">Incremento mínimo</label>
              <div class="control">
                <input class="input" type="text" id="increment" #increment="ngModel"  placeholder="Escriba el incremento mínimo..." pattern="^\d+\.?\d*$" [(ngModel)]="producto.increment" >
                <div *ngIf="increment.invalid && (increment.dirty || increment.touched)" class="alert alert-danger">
                  <div *ngIf="increment.errors.required">Incremento mínimo requerida.</div>
                  <div *ngIf="increment.errors.pattern">Introduce un número positivo.</div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="desc">Descripción</label>
              <div class="control">
                <textarea class="textarea" id="desc" placeholder="Escriba Descripción..." #desc="ngModel"  [(ngModel)]="producto.desc" required ></textarea>
                <div *ngIf="desc.invalid && desc.touched" class="alert alert-danger">
                  <div *ngIf="desc.errors.required">Descripción requerida.</div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="endtime">Finalización de la subasta</label>
              <div class="control">
                <input class="input" type="date" id="endtime" [min]="today"  #endtime="ngModel"  [(ngModel)]="producto.endtime" required>
                <div *ngIf="endtime.invalid && (endtime.dirty || endtime.touched)" class="alert alert-danger">
                  <div *ngIf="endtime.errors.required">Fecha finalización requerida.</div>
                </div>
              </div>
            </div>

            <div class="field is-grouped">
              <div class="control">
                <button class="button bd-tw-button" (click)="addProduct(name.value, photo.value,category.value, base_val.value,
                  increment.value,desc.value, endtime.value)">
                  {{editMode ? 'Actualizar' : 'Enviar'}}</button>
              </div>
              <div class="control">
                <button class="button is-text" (click)="formCancel()">Cancelar</button>
              </div>
            </div>



          </div>
        </div>
      </div>
    </div>
  </div>
</div>



